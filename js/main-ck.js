(function(e){var t=e(".map"),n=e(".main"),r=e(window),i=e(window).height(),s=e(window).width(),o=e("html,body"),u=e(".addInfos"),a=e(".banner");e(function(){t&&h();e(window).resize(c);c();l();f();r.scroll(l,f);e(".goTo").on("click",function(t){t.preventDefault();d(e(this))})});var f=function(){o.scrollTop()>u.height()?a.css({position:"fixed",top:0,left:0,right:0}):a.css({position:"relative"})},l=function(){o.scrollTop()>30?u.slideUp():u.slideDown()},c=function(){e(".kot .content").ellipsis()},h=function(){nHeight=p(i,90)-(e(".banner").height()+e(".addInfos").height());t.css({height:nHeight});n.css({height:"auto","min-height":"100%"})},p=function(e,t){return e/100*t},d=function(t){e("html,body").animate({scrollTop:t.offset().top},"slow")}}).call(this,jQuery);