(function(e){var t=e(".map"),n=e(".main"),r=e(window),i,s=100,o=e(window).height(),u=e(window).width(),a=e("html,body"),f=e(".addInfos"),l=e(".banner"),c=e(".mapItem"),h=e(".kots").outerHeight();e(function(){t&&y();c.find(".head").on("click","a",p);e(".connection,.register").css({});e("#form-range").ionRangeSlider({min:0,max:1e4,type:"single",postfix:" mÃ¨tres",prettify:!0,disable:!1,onChange:function(t){e(".label-range").html("Distance ("+t.fromNumber+"m): ")}});d();e(window).resize(g,d);g();e(".goTo").on("click",function(t){t.preventDefault();w(e(this))})});var p=function(t){t.preventDefault();var n=e(this).parent().parent(),r=e(this).parent().next();if(n.hasClass("active"))r.slideUp(function(){n.removeClass("active")});else{c.find(".stuff.active .content").slideUp(function(){e(this).parent().removeClass("active")});n.addClass("active");r.slideDown();c.find(".stuff").not(".active")}},d=function(){u>808?e(".kotsByCities").css({height:h}):e(".kotsByCities").css("height","auto")},v=function(){a.scrollTop()>f.height()+l.outerHeight()+i?l.css({position:"fixed",top:0,left:0,right:0}):l.css({position:"relative"})},m=function(){a.scrollTop()>30?f.slideUp():f.slideDown()},g=function(){e(".kot .content").ellipsis()},y=function(){i=b(o,s)-(e(".banner").height()+e(".addInfos").height());t.css({height:i});n.css({height:"auto","min-height":"100%"})},b=function(e,t){return e/100*t},w=function(t){e("html,body").animate({scrollTop:t.offset().top},"slow")}}).call(this,jQuery);